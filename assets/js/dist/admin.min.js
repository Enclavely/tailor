(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){require("./shared/utility/ajax");require("./admin/components/icon-kits")},{"./admin/components/icon-kits":2,"./shared/utility/ajax":3}],2:[function(require,module,exports){var $=window.jQuery,l10n=window._l10n,ajax=window.ajax;$(document).ready(function(){var $field=$(".tailor-icon-kits");var frame=wp.media({button:{text:l10n.selectKit},states:[new wp.media.controller.Library({title:l10n.selectKit,library:wp.media.query({type:["application/zip"]}),multiple:false,date:false})]});frame.on("select",function(e){var selection=frame.state().get("selection").toJSON();var id=_.pluck(selection,"id");$field.find(".spinner").addClass("is-active");ajax.send("tailor_add_icon_kit",{data:{id:id[0],name:$field.data("name"),nonce:window._nonces.saveKit},error:function(response){var template=_.template(document.getElementById("tmpl-tailor-notice").innerHTML);var $notice=$(template({message:response.message}));$field.parent().before($notice);$notice.on("click button",function(){$notice.fadeOut().off()});$field.find(".spinner").removeClass("is-active")},success:function(response){$field.html($(response).html())}})});$field.on("click",".js-select",function(e){frame.open()}).on("click",".js-delete",function(e){$field.find(".spinner").addClass("is-active");ajax.send("tailor_delete_icon_kit",{data:{id:this.getAttribute("data-id"),name:$field.data("name"),nonce:window._nonces.deleteKit},success:function(response){$field.html($(response).html())}});e.preventDefault()})})},{}],3:[function(require,module,exports){var $=jQuery,Ajax;Ajax={url:window.ajaxurl,post:function(action,data){return ajax.send({data:_.isObject(action)?action:_.extend(data||{},{action:action})})},send:function(action,options){if(_.isObject(action)){options=action}else{options=options||{};options.data=_.extend(options.data||{},{action:action,tailor:1})}options=_.defaults(options||{},{type:"POST",url:ajax.url,context:this});return $.Deferred(function(deferred){if(options.success){deferred.done(options.success)}var onError=options.error?options.error:ajax.onError;deferred.fail(onError);delete options.success;delete options.error;$.ajax(options).done(function(response){if(response==="1"||response===1){response={success:true}}if(_.isObject(response)&&!_.isUndefined(response.success)){deferred[response.success?"resolveWith":"rejectWith"](this,[response.data])}else{deferred.rejectWith(this,[response])}}).fail(function(){deferred.rejectWith(this,arguments)})}).promise()},onError:function(response){if(!Tailor.Notify){console.error(response);return}if(response&&response.hasOwnProperty("message")){Tailor.Notify(response.message)}else if("0"==response){Tailor.Notify(window._l10n.expired)}else if("-1"==response){Tailor.Notify(window._l10n.invalid)}else{Tailor.Notify(window._l10n.error)}}};window.ajax=Ajax;module.exports=Ajax},{}]},{},[1]);